.\" Text automatically generated by md2man 
.TH tmww-versionlog 1 "October 10, 2014" "Linux" "Linux Reference Manual"
.SH NAME
\fBversionlog.plugin \fP- try determine player's client version using online list and client versions log
.PP
.SH DESCRIPTION
.SS Action format
.nf
.fam C
    versionlog
.fam T
.fi
.PP
.SS Expected input data
Versions file format example:
.PP
.PP
.nf
.fam C
    [04:01] ManaPlus (Windows; The Mana World; SDL1.2; 4144 v1.3.11.24)
.fam T
.fi
.PP
Example location: http://updates.themanaworld.org/versions/2013-12-06.txt
Time (online list and log) expected to be UTC+0.
.SS Output format
Location: VERSIONREPORT/servername/YYYY-MM/DD.yml
.PP
.TP
.B
-
"time": "21:31:47"
"detected": [ "21:31", "player1", "client1" ]
"logon": [ "player1", "player2" ]
"logoff": [ "player3" ]
"versions": 
.IP \(bu 3
[ 2, "client2" ]
.IP \(bu 3
[ 1, "client1" ]
"clients": 
.IP \(bu 3
[ "21:31", "client1" ]
.IP \(bu 3
[ "21:31", "client2" ]
.IP \(bu 3
[ "21:31", "client2" ]
.PP
versions/clients mapping depends on VERSIONSUMMARY option. It doesn't anyhow
affect other scripts, e.g. _client_. Log format is made this way for easy
reading for more extensive information examining target chars. Version logs
stay at logpath and are not deleted.
.PP
.SH CONFIG
.TP
.B
VERSIONURLBASE : quoted -> http://updates.themanaworld.org/version/
url path where logs are stored
.TP
.B
VERSIONREPORT : string -> ~/log/tmww
result version log location (same as for tmww log plugin)
.TP
.B
VERSIONCACHE : string -> ~/log/versions
destination for downloaded version log files
.TP
.B
VERSIONSUMMARY : yes/no | \fIempty\fP
if \fIyes\fP - print summary of versions like result from versiontable plugin
.PP
.SH EXAMPLE
Default online list update time 20 seconds so if you don't have cron with
seconds discretisation example run looks like:
.PP
.PP
.nf
.fam C
    $ watch -cpn 20 tmww versionlog
.fam T
.fi
.PP
with config "versionlog.conf" containing
.PP
.nf
.fam C
    DELTA 10
    actions {
        fetch
        servertime
        summary
        logon
        logoff
        newline
        versionlog
    }
.fam T
.fi
.PP
Then you can watch results like this:
.PP
.nf
.fam C
    $ cd VERSIONREPORT/servername && tail -f $(date -u +%Y-%m/%d).yml | grep --line-buffered detected
.fam T
.fi
.PP
.SH COPYRIGHT
This document is part of tmww - The Mana World Watcher scripts.
.PP
Licensed under terms of GNU General Public License version 3. For full text of
license see COPYING file distributed with tmww.
.PP
.SH AUTHORS
willee <v4r@trioptimum.com>, 2012-2014
.PP
.SH SEE ALSO
\fBtmww\fP(1), \fBtmww-config\fP(5), \fBtmww-log\fP(1), \fBtmww-versiontable\fP(1)
.PP
